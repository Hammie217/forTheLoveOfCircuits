---
layout: default
title: For the love of circuits
creator: Hamish Sams
date: Established July 2020
abstract: Lorem impsum.
---


<p class="Section">Contents</p>
<div style="padding-bottom: 50px;"></div>


<div>
    <div class="contentsSection">1 Opamp Circuits</div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#voltageFollower">1.1 Voltage Follower</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#invertingAmplifier">1.2 Inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#schmittTrigger">1.3 Schmitt Trigger</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#complexInvertingAmplifier">1.4 Complex Inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#noninvertingAmplifier">1.5 Non-inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#complexNoninvertingAmplifier">1.6 Complex Non-inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#integrator">1.7 Integrator</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#differentiator">1.8 Differentiator</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#summingInvertingAmplifier">1.9 Summing Inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#summingNoninvertingAmplifier">1.10 Summing Non-Inverting Amplifier</a></div>
    <div class="contentsSubSection"><a class="contentsSubSectionText" href="#differentialAmplifier">1.11 Differential Amplifier</a></div>
</div>

<div style="padding-bottom: 50px;"></div>





<p class="Section">1 &ensp; Opamp Circuits</p>
    <p class="BodyText">
        A collection of key opamp circuits.
    </p>

    <a class="SubSection" name="voltageFollower">1.1 &ensp; Voltage Follower</a>
    <div class="figure">
        <img src="assets/svgs/voltageFollower.svg" class="include" >
        <p class="caption">Figure 1:</p>
    </div>
    <p class="BodyText">
        Given
        $$ v_o=A_v(v_+-v_-)$$
        $$ v_- = v_o $$
        $$ v_+ = v_i $$
        Subsitute in
        $$ \therefore v_o=A_v(v_i-v_o)$$
        rearrange for
        $$ \frac{v_o}{v_i}=\frac{A_v}{A_v+1} $$
        assuming \( A_v >> 1 \)
        $$ \frac{v_o}{v_i}=1 $$
    </p>

    <a class="SubSection" name="invertingAmplifier">1.2 &ensp; Inverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/invertingAmplifier.svg" class="include" >
        <p class="caption">Figure 2:</p>
    </div>
    <p class="BodyText">
        Given \( v_+=0 \) and \( v_o=A_v(v_+-v_-)\).
        $$ v_o=-A_vv_- $$
        Assuming no current into the opamp and treating \( R_1 \) and \( R_2 \) as a potential divider.
        $$ (v_o-v_i)\frac{R_1}{R_1+R_2}+v_i=v_- $$
        Subsituting for
        $$ (v_o-v_i)\frac{R_1}{R_1+R_2}+v_i=-\frac{v_o}{A_v} $$
        $$ v_o(\frac{R_1}{R_1+R_2}+\frac{1}{A_v})=v_i(\frac{R_1}{R_1+R_2}-1) $$
        rearranging for
        $$ \frac{v_o}{v_i}=\frac{\frac{R_1}{R_1+R_2}-1}{\frac{R_1}{R_1+R_2}+\frac{1}{A_v}} = \frac{-R_2}{R_1+\frac{R_1+R_2}{A_v}} $$
        Assuming assuming \( A_v = \infty \) and the opamp isn't saturated
        $$ \frac{v_o}{v_i}=-\frac{R_2}{R_1} $$
    </p>

    

    <a class="SubSection" name="schmittTrigger">1.3 &ensp; Schmitt Trigger</a>
    <div class="figure">
        <img src="assets/svgs/schmittTrigger.svg" class="include">
        <p class="caption">Figure 3:</p>
    </div>
    <p class="BodyText">
        In a Schmitt Trigger the op-amp is setup in positive feedback meaning for an increase in voltage at \( v_+ \) will increase \( v_o \) and visa versa and therefore \( v_+ \) leading to a system always in saturation.
        Assuming \(v_o\) is currently saturated to the positive rail \(v_o=v_s\) and treating \( R_1 \) and \( R_2 \) as a potential divider.
        $$ v_+=(v_s-v_i)\frac{R_1}{R_1+R_2}+v_i $$
        To stop the system being in positive saturation \( v_+<=0 \)
        substituting in for
        $$ 0=(v_s-v_i)\frac{R_1}{R_1+R_2}+v_i $$
        rearranging for
        $$ v_i=-v_s\frac{R_1}{R_2}$$
        This can be proven in the other direction similarly giving 
        $$ v_i=v_s\frac{R_1}{R_2}$$
        Giving a direction based resonse as seen below.
    </p>
    <div class="figure">
        <img src="assets/svgs/schmittTriggerDiagram.svg" class="include">
        <p class="caption">Figure 4: Schmitt Trigger response</p>
    </div>

    <a class="SubSection" name="complexInvertingAmplifier">1.4 &ensp; Complex Inverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/complexInvertingAmplifier.svg" class="include">
        <p class="caption">Figure 5:</p>
    </div>
    <p class="BodyText">
        Similar to a typical inverting amplifier but with a complex impedances \( z_1 \) and \( z_2 \) instead of \( R_1 \) and \( R_2 \).<br />
        Given \( v_+=0 \) and \( v_o=A_v(v_+-v_-)\).
        $$ v_o=-A_vv_- $$
        Assuming no current into the opamp and treating \( z_1 \) and \( z_2 \) as a complex potential divider.
        $$ (v_o-v_i)\frac{z_1}{z_1+z_2}+v_i=v_- $$
        Subsituting for
        $$ (v_o-v_i)\frac{z_1}{z_1+z_2}+v_i=-\frac{v_o}{A_v} $$
        $$ v_o(\frac{z_1}{z_1+z_2}+\frac{1}{A_v})=v_i(\frac{z_1}{z_1+z_2}-1) $$
        rearranging for
        $$ \frac{v_o}{v_i}=\frac{\frac{z_1}{z_1+z_2}-1}{\frac{z_1}{z_1+z_2}+\frac{1}{A_v}} = \frac{-z_2}{z_1+\frac{z_1+z_2}{A_v}} $$
        Assuming assuming \( A_v = \infty \) and the opamp isn't saturated
        $$ \frac{v_o}{v_i}=-\frac{z_2}{z_1} $$
    </p>

    <a class="SubSection" name="noninvertingAmplifier">1.5 &ensp; Noninverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/noninvertingAmplifier.svg" class="include">
        <p class="caption">Figure 6:</p>
    </div>
    <p class="BodyText">
        Assuming no current into the opamp
        $$  i_1=i_2 $$
        $$ \therefore v_-=v_o\frac{R_2}{R_1+R_2} $$
        Given
        $$ v_o=A_v(v_+-v_-) $$
        Substituing in for
        $$ v_o=A_v(v_i-v_o\frac{R_2}{R_1+R_2}) $$
        Rearranging for
        $$ \frac{v_o}{v_i}=\frac{1}{\frac{1}{A_v}+\frac{R_2}{R_1+R_2}} $$
        Assuming assuming \( A_v = \infty \) and the opamp isn't saturated
        $$ \frac{v_o}{v_i}=1+\frac{R_1}{R_2} $$
    </p>

    <a class="SubSection" name="complexNoninvertingAmplifier">1.6 &ensp; Complex Noninverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/complexNoninvertingAmplifier.svg" class="include">
        <p class="caption">Figure 7:</p>
    </div>
    <p class="BodyText">
        Similar to a typical noninverting amplifier but with a complex impedances \( z_1 \) and \( z_2 \) instead of \( R_1 \) and \( R_2 \).<br />
        Assuming no current into the opamp
        $$  i_1=i_2 $$
        $$ \therefore v_-=v_o\frac{z_2}{z_1+z_2} $$
        Given
        $$ v_o=A_v(v_+-v_-) $$
        Substituing in for
        $$ v_o=A_v(v_i-v_o\frac{z_2}{z_1+z_2}) $$
        Rearranging for
        $$ \frac{v_o}{v_i}=\frac{1}{\frac{1}{A_v}+\frac{z_2}{z_1+z_2}} $$
        Assuming assuming \( A_v = \infty \) and the opamp isn't saturated
        $$ \frac{v_o}{v_i}=1+\frac{z_1}{z_2} $$
    </p>




    <a class="SubSection" name="integrator">1.7 &ensp; Integrator</a>
    <div class="figure">
        <img src="assets/svgs/integrator.svg" class="include">
        <p class="caption">Figure 8:</p>
    </div>
    <p class="BodyText">
    </p>


    <a class="SubSection" name="differentiator">1.8 &ensp; Differentiator</a>
    <div class="figure">
        <img src="assets/svgs/differentiator.svg" class="include">
        <p class="caption">Figure 9:</p>
    </div>
    <p class="BodyText">
    </p>

    <a class="SubSection" name="summingInvertingAmplifier">1.9 &ensp; Summing Inverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/summingInvertingAmplifier.svg" class="include">
        <p class="caption">Figure 10:</p>
    </div>
    <p class="BodyText">
    </p>

    <a class="SubSection" name="summingNoninvertingAmplifier">1.10 &ensp; Summing Non-Inverting Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/summingNoninvertingAmplifier.svg" class="include">
        <p class="caption">Figure 11:</p>
    </div>
    <p class="BodyText">
    </p>

    <a class="SubSection" name="differentialAmplifier">1.11 &ensp; Differential Amplifier</a>
    <div class="figure">
        <img src="assets/svgs/differentialAmplifier.svg" class="include">
        <p class="caption">Figure 12:</p>
    </div>
    <p class="BodyText">
    </p>